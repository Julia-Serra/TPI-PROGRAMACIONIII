<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inscripción | FirstCode</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Estilos globales -->
    <link rel="stylesheet" href="./css/styles.css"/>

    <!-- Estilos exclusivos admin (para que copie el estilo) -->
    <link rel="stylesheet" href="./css/admin.css"/>
</head>

<body>

    <!-- MISMO HEADER QUE ADMIN -->
    <header class="main-header">
        <h1>Formulario de Inscripción</h1>
        <nav class="menu">
            <a href="index.html">Inicio</a>
            <a href="user-home.html">Mi cuenta</a>
            <button onclick="logout()" class="btn btn-danger btn-sm">Cerrar sesión</button>
        </nav>
    </header>

    <!-- MISMA ESTRUCTURA QUE EL ADMIN -->
    <main class="admin-page">

        <section class="card">
            <h2>Inscribirse al curso</h2>

            <p id="courseText" class="mb-3">
                Completá tus datos para inscribirte al curso seleccionado.
            </p>

            <form id="inscriptionForm" class="form" novalidate>

                <div class="form-group">
                    <label for="nombre">Nombre</label>
                    <input class="form-control" type="text" id="nombre" required>
                </div>

                <div class="form-group">
                    <label for="apellido">Apellido</label>
                    <input class="form-control" type="text" id="apellido" required>
                </div>

                <div class="form-group">
                    <label for="dni">DNI / Pasaporte</label>
                    <input class="form-control" type="text" id="dni" required>
                </div>

                <div class="form-group">
                    <label for="nacimiento">Fecha de nacimiento</label>
                    <input class="form-control" type="date" id="nacimiento" required>
                </div>

                <div class="form-group">
                    <label for="sexo">Sexo / Género</label>
                    <select class="form-control" id="sexo" required>
                        <option value="">Seleccionar</option>
                        <option>Femenino</option>
                        <option>Masculino</option>
                        <option>No Binario</option>
                        <option>Prefiero no decirlo</option>
                        <option>Otro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="estado_civil">Estado civil</label>
                    <select class="form-control" id="estado_civil" required>
                        <option value="">Seleccionar</option>
                        <option>Soltero/a</option>
                        <option>Casado/a</option>
                        <option>Divorciado/a</option>
                        <option>Viudo/a</option>
                        <option>Unión convivencial</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="nacionalidad">Nacionalidad</label>
                    <input class="form-control" type="text" id="nacionalidad" required>
                </div>

                <div class="form-group">
                    <label for="titulo_secundario">Título secundario</label>
                    <input class="form-control" type="text" id="titulo_secundario" required>
                </div>

                <div class="form-group">
                    <label for="domicilio">Domicilio</label>
                    <input class="form-control" type="text" id="domicilio" required>
                </div>

                <div class="form-group">
                    <label for="telefono">Teléfono</label>
                    <input class="form-control" type="tel" id="telefono" required>
                </div>

                <div class="form-group">
                    <label for="email">Correo electrónico</label>
                    <input class="form-control" type="email" id="email" required>
                </div>

                <!-- Ocultos -->
                <input type="hidden" id="courseId">
                <input type="hidden" id="userId">

                <button type="submit" class="btn btn-primary mt-3">
                    Confirmar inscripción
                </button>

                <div id="inscriptionAlert" class="mt-3 text-danger" hidden></div>

            </form>

        </section>

    </main>

    <footer>
        © 2025 - FirstCode Arg
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script src="js/navbar.js"></script>
    <script src="js/cursos.js"></script>
    <script src="js/inscripciones.js"></script>
    <script src="js/api.js"></script>

    <script>
        const params = new URLSearchParams(window.location.search);
        const courseId = params.get("course");

        const courseNames = {
            "html-css": "HTML & CSS",
            "javascript-cero": "JavaScript desde Cero",
            "python-principiantes": "Python",
            "git-github": "Git & GitHub"
        };

        if (courseId) {
            document.getElementById("courseId").value = courseId;
            document.getElementById("courseText").textContent =
                "Completá tus datos para inscribirte al curso de " +
                (courseNames[courseId] || "Curso");
        }
    </script>

</body>
</html>
