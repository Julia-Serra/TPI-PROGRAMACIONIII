<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inscripción al Curso</title>
</head>

<body>
    <header class="bg-white shadow-sm py-3">
        <div class="container d-flex justify-content-between align-items-center">
            <h1 class="fs-3 fw-bold m-0 text-dark">FirstCode | Formulario de Inscripción</h1>
            <nav class="d-flex gap-3 align-items-center">
                <!-- Usuario logueado -->
                <a href="index.html" class="text-dark text-decoration-none fw-semibold nav-user">Inicio</a>
                <a href="user-home.html" class="btn btn-outline-primary nav-user">Mi Cuenta</a>
                <button class="btn btn-danger nav-user" onclick="logout()">Cerrar Sesión</button>
            </nav>
            <p id="courseText">Completá tus datos para inscribirte al curso seleccionado.</p>
        </div>
    </header>
    <section>
        <main>
            <form id="inscriptionForm" novalidate>
                <div class="form-header">
                    <div>
                        <h2>Inscripción</h2>
                    </div>
                    <div class="form-logo">
                        <!-- si tenés un logo local: <img src="assets/img/logo-small.png" alt="logo"> -->
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="nombre">Nombre</label>
                        <input class="form-control" type="text" id="nombre" name="nombre" required placeholder="Tu nombre">
                    </div>
                    <div class="form-group">
                        <label for="apellido">Apellido</label>
                        <input class="form-control" type="text" id="apellido" name="apellido" required placeholder="Tu apellido">
                    </div>
                    <div class="form-group">
                        <label for="dni">DNI / Pasaporte</label>
                        <input class="form-control" type="text" id="dni" name="dni" required placeholder="Documento">
                    </div>
                    <div class="form-group">
                        <label for="nacimiento">Fecha de nacimiento</label>
                        <input class="form-control" type="date" id="nacimiento" name="nacimiento" required>
                    </div>
                    <div class="form-group">
                        <label for="sexo">Sexo / Género</label>
                        <select class="form-control" id="sexo" name="sexo" required>
                            <option value="">Seleccionar</option>
                            <option value="Femenino">Femenino</option>
                            <option value="Masculino">Masculino</option>
                            <option value="No Binario">No Binario</option>
                            <option value="Prefiero no decirlo">Prefiero no decirlo</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="estado_civil">Estado civil</label>
                        <select class="form-control" id="estado_civil" name="estado_civil" required>
                            <option value="">Seleccionar</option>
                            <option value="Soltero/a">Soltero/a</option>
                            <option value="Casado/a">Casado/a</option>
                            <option value="Divorciado/a">Divorciado/a</option>
                            <option value="Viudo/a">Viudo/a</option>
                            <option value="Union convivencial">Unión convivencial</option>
                        </select>
                    </div>
                    </div>
                    <div class="form-group full">
                        <label for="nacionalidad">Nacionalidad</label>
                        <input class="form-control" type="text" id="nacionalidad" name="nacionalidad" required
                            placeholder="Ej: Argentina">
                    </div>
                    <div class="form-group full">
                        <label for="titulo_secundario">Título secundario obtenido</label>
                        <input class="form-control" type="text" id="titulo_secundario" name="titulo_secundario" required placeholder="Institución / título">
                    </div>
                    <div class="form-group full">
                        <label for="domicilio">Domicilio</label>
                        <input class="form-control" type="text" id="domicilio" name="domicilio" required placeholder="Calle, número, ciudad">
                    </div>
                    <div class="form-group">
                        <label for="telefono">Teléfono</label>
                        <input class="form-control" type="tel" id="telefono" name="telefono" required placeholder="+54 9 ...">
                    </div>
                    <div class="form-group">
                        <label for="email">Correo electrónico</label>
                        <input class="form-control" type="email" id="email" name="email" required placeholder="tu@email.com">
                    </div>

                    <!-- campos ocultos mantenidos -->
                    <input type="hidden" id="courseId" name="courseId" />
                    <input type="hidden" id="userId" name="userId" />
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Confirmar Inscripción</button>
                    </div>
                    <div id="inscriptionAlert" class="form-alert" aria-live="polite" hidden></div>
            </form>
        </main>
    </section>

    <footer class="text-center bg-white text-secondary py-3 mt-5">
        © 2025 - TPI Programación III
    </footer>

    <!-- Scripts -->
    <script src="js/navbar.js"></script>
    <script src="js/cursos.js"></script>
    <script src="js/inscripciones.js"></script>
    <script src="js/api.js"></script>
    <script>
        // Obtener el parámetro ?course=xxxx
        const params = new URLSearchParams(window.location.search);
        const courseId = params.get("course");

        // Relación ID → nombre visible
        const courseNames = {
            "html-css": "HTML & CSS",
            "javascript-cero": "JavaScript desde Cero",
            "python-principiantes": "Python",
            "git-github": "Git & GitHub"
        };

        // Insertar valores
        if (courseId) {
            const courseName = courseNames[courseId] || "Curso";

            // Guardar ID oculto
            document.getElementById("courseId").value = courseId;

            // Cambiar frase superior
            document.getElementById("courseText").textContent =
                `Completá tus datos para inscribirte al curso de ${courseName}.`;
        }
    </script>
</body>
</html>